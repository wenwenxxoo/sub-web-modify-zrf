name: ğŸ” Check GH_TOKEN Scopes

on:
  workflow_dispatch:  # æ‰‹åŠ¨è§¦å‘

jobs:
  check-token:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ›  Checkout
        uses: actions/checkout@v4

      - name: ğŸ§ª Check GH_TOKEN Scopes
        run: |
          echo "Checking scopes for provided GH_TOKEN..."
          curl -I -H "Authorization: token ${{ secrets.GH_TOKEN }}" https://api.github.com/

      - name: âœ… Suggest Next Steps
        run: |
          echo ""
          echo "ğŸ‘‰ å¦‚æœä½ çœ‹åˆ° X-OAuth-Scopesï¼Œè¯·æ£€æŸ¥å®ƒæ˜¯å¦åŒ…å«æ‰€éœ€æƒé™ï¼š"
          echo "   - repo"
          echo "   - workflow"
          echo "   - contents:write"
          echo "   - pull_request:write"
          echo ""
          echo "â— å¦‚æœæ²¡æœ‰ Authorization ä¿¡æ¯ï¼Œè¯´æ˜ GH_TOKEN æ— æ•ˆæˆ–æœªè®¾ç½®ã€‚"